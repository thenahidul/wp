(function ( $ ) {$(function(){var grand_mere={lazy_loaded:new Array(),init:function(){var self=this;$(document).ready(function(){self.set_lazy_loaded(self);self.lazy_load(self);self.scroll_to_top();});$(window).scroll(function(){self.lazy_load(self);self.scroll_to_top();});$('#back_to_top').click(function(e){e.preventDefault();$("html, body").animate({scrollTop:0},"slow");})},set_lazy_loaded:function(self){self.lazy_loaded=document.getElementsByClassName('lazy');},is_in_viewport:function(el){var rect=el.getBoundingClientRect();return(rect.bottom>=-500&&rect.right>=0&&(rect.top-500)<=(window.innerHeight||document.documentElement.clientHeight)&&rect.left<=(window.innerWidth||document.documentElement.clientWidth));},lazy_load:function(self){for(var i=0;i<self.lazy_loaded.length;i++){if(self.is_in_viewport(self.lazy_loaded[i])){if(self.lazy_loaded[i].getAttribute('data-src')){self.lazy_loaded[i].src=self.lazy_loaded[i].getAttribute('data-src');self.lazy_loaded[i].removeAttribute('data-src');}}}
self.clean_lazy_loaded();},clean_lazy_loaded:function(){var self=this;self.lazy_loaded=Array.prototype.filter.call(self.lazy_loaded,function(l){return l.getAttribute('data-src');});},scroll_to_top:function(){scrollToTopButton=$('#back_to_top');windowHeight=$(window).height();var offset=$('#bottom_bar').offset();let y=window.pageYOffset;if(y>500){scrollToTopButton.show();}else{scrollToTopButton.hide();}
if((window.innerHeight+y)>=Math.floor(offset.top)){scrollToTopButton.addClass("fixed-bottom");}else{scrollToTopButton.removeClass("fixed-bottom");}}}
grand_mere.init();});})(jQuery);